<div class="wrapper">
    <form>
        <div class="form-group">
            <label for="exampleInputEmail1">Label</label>
            <input type="email" [(ngModel)]="searchLabel" name="label" class="form-control" id="exampleInputEmail1"
                   aria-describedby="emailHelp" placeholder="Enter label">
            <small id="emailHelp" class="form-text text-muted">A label should describe a concept or entity.</small>
        </div>

        <div class="submitZone">
            <div *ngIf="loading; else submitBlock" class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <ng-template #submitBlock>
                <button (click)="searchWithLabel()" class="btn btn-primary">Search</button>
            </ng-template>
        </div>

        <div *ngIf="error" class="alert alert-danger" role="alert">
            {{error}}
        </div>

    </form>


    <div class="cardsContainer">
        <div *ngFor="let entity of entities" class="card" style="width: 18rem;">
            <div class="card-body">
                <a href="{{entity['url']}}">
                    <h5 class="card-title">{{entity['label']}} ({{entity['id']}})</h5>
                </a>

                <p class="card-text">{{entity['description']}}</p>
                <button (click)="selectedEntity=entity['id']" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                    Generate questions
                </button>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Select category</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="category">Select questions category</label>
                            <select [(ngModel)]="selectedCategory" class="form-control" id="category" name="category" required>
                                <option *ngFor="let category of categories" [value]="category">{{category.label}}</option>
                            </select>
                        </div>
                        <button (click)="generateQuestions()" type="button" class="btn btn-primary">Generate questions</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</div>


